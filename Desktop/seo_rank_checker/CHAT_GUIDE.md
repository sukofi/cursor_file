# 自然言語チャット機能ガイド

## 概要

SEO Rank Checker Bot は Gemini AI の高度な機能を活用し、自由な会話ができるようになりました。

### 🎉 新機能

- ✅ **Google検索機能** - 最新情報をリアルタイムで検索
- ✅ **コード実行機能** - 計算や分析を自動実行
- ✅ **自由な会話** - コマンド以外の質問にも対応
- ✅ **スプレッドシート分析** - データを理解して回答
- ✅ **会話履歴の保持** - 文脈を理解した対話

---

## 使い方

### 1. 自由な質問

**従来（コマンド実行のみ）:**
```
@SEO Reporter 順位をチェックして
@SEO Reporter 設定を見せて
```

**新機能（自由な会話）:**
```
@SEO Reporter SEOって何？
@SEO Reporter 最新のGoogle検索アルゴリズムについて教えて
@SEO Reporter 被リンクを増やす方法は？
@SEO Reporter 2026年のSEOトレンドは？
```

### 2. Google検索を活用

AIが自動的にGoogle検索を使って最新情報を調べます：

```
@SEO Reporter 最近のGoogleアップデートについて教えて
@SEO Reporter ChatGPTの最新バージョンは？
@SEO Reporter 今日の天気は？
@SEO Reporter ○○社の株価は？
```

**応答例:**
```
最新のGoogleアップデートについて調べました。

2026年1月に「Helpful Content Update」がリリースされ、
ユーザーにとって本当に役立つコンテンツを優先的に
表示するようになりました。

主なポイント:
• E-E-A-T（経験・専門性・権威性・信頼性）の重視
• AI生成コンテンツの品質評価
• ユーザー体験の向上

[検索結果から取得]
```

### 3. 計算・分析

複雑な計算や分析もAIが自動実行：

```
@SEO Reporter CTRが3%でクリック数が150の場合、インプレッション数は？
@SEO Reporter 月間検索数10,000でCTR2%、CVR5%の場合、予想CV数は？
@SEO Reporter フィボナッチ数列の最初の10個を教えて
```

**応答例:**
```
計算しました！

CTR 3%、クリック数 150の場合：
インプレッション数 = 150 ÷ 0.03 = 5,000

つまり、5,000回表示されて150回クリックされたことになります。
```

### 4. スプレッドシートデータの分析

スプレッドシートのデータを理解して回答：

```
@SEO Reporter 優先度が「高」のキーワードは何個ある？
@SEO Reporter カテゴリ別のキーワード数を教えて
@SEO Reporter 「中古車」に関連するキーワードをリストアップして
@SEO Reporter 最近追加されたキーワードは？
```

**応答例:**
```
スプレッドシートを確認しました。

優先度が「高」のキーワードは23個あります。

カテゴリ別の内訳:
• 買取: 8個
• 査定: 7個
• 売却: 5個
• その他: 3個

これらのキーワードを優先的に対策することをお勧めします。
```

### 5. SEO相談

SEOに関する専門的な質問にも対応：

```
@SEO Reporter タイトルタグの最適な文字数は？
@SEO Reporter 内部リンクの効果的な貼り方は？
@SEO Reporter モバイルファーストインデックスとは？
@SEO Reporter 構造化データを実装するメリットは？
```

### 6. 雑談・一般的な質問

SEO以外の質問にも答えます：

```
@SEO Reporter こんにちは！調子はどう？
@SEO Reporter おすすめのプログラミング言語は？
@SEO Reporter Pythonで配列を逆順にする方法は？
@SEO Reporter 今日は何の日？
```

---

## 対話モードの種類

Bot は自動的に2つのモードを切り替えます：

### 🤖 コマンド実行モード

特定のキーワードを検出すると、Bot機能を実行：

**トリガーキーワード:**
- 順位、チェック、ランク → 順位チェック実行
- 競合、分析 → 競合分析実行
- 設定、ステータス → 設定表示

**例:**
```
@SEO Reporter 順位をチェックして
→ 順位チェックを実行します
```

### 💬 自由会話モード

上記以外のメッセージは自由会話として処理：

**特徴:**
- Google検索を活用
- コード実行で計算
- スプレッドシートデータを参照
- 会話履歴を考慮

**例:**
```
@SEO Reporter SEOについて教えて
→ Gemini AIが詳しく説明します
```

---

## 会話の例

### 例1: SEOについて学ぶ

```
ユーザー: @SEO Reporter SEOって何？

Bot: SEO（Search Engine Optimization：検索エンジン最適化）とは、
Googleなどの検索エンジンで自分のWebサイトを上位表示させるための
施策のことです。

主な要素:
1. コンテンツの質
2. キーワード戦略
3. 内部リンク構造
4. 外部リンク（被リンク）
5. ページ速度
6. モバイル対応

何か具体的に知りたいことはありますか？

---

ユーザー: 被リンクを増やす方法は？

Bot: 被リンク（バックリンク）を増やす効果的な方法をご紹介します：

【自然な被リンク獲得】
1. 高品質なコンテンツを作成
   - 独自の調査データ
   - 詳細なガイド記事
   - インフォグラフィック

2. ゲスト投稿
   - 関連性の高いサイトに寄稿
   - 専門知識を共有

3. SNSでの拡散
   - Twitter、LinkedIn等で共有
   - インフルエンサーへのアプローチ

【注意点】
❌ 避けるべき: リンク購入、スパムリンク
✅ 推奨: 自然で質の高いリンク

具体的な施策について詳しく知りたいですか？
```

### 例2: 最新情報を調べる

```
ユーザー: @SEO Reporter 2026年のSEOトレンドは？

Bot: 2026年のSEOトレンドについて調べました。

【主要トレンド】

1. **AI生成コンテンツの品質評価**
   Googleは単なるAI生成ではなく、人間の経験や専門知識が
   加わったコンテンツを高く評価しています。

2. **E-E-A-T の重要性増大**
   Experience（経験）が新たに追加され、実体験に基づく
   コンテンツが重視されています。

3. **検索生成体験（SGE）の影響**
   AI要約が検索結果に表示され、クリック率に影響。
   より詳細で独自性のあるコンテンツが求められます。

4. **動画コンテンツの重要性**
   YouTube SEOとの統合が進み、動画コンテンツの
   最適化が必須になっています。

5. **ローカルSEOの進化**
   「Near me」検索の増加に伴い、地域密着型の
   最適化が重要です。

[Google検索から取得した最新情報]

何か具体的に知りたいトレンドはありますか？
```

### 例3: データ分析

```
ユーザー: @SEO Reporter スプレッドシートのデータを分析して

Bot: スプレッドシートを分析しました。

📊 **データサマリー**
- 総キーワード数: 150個
- カテゴリ数: 5個
- 優先度「高」: 23個（15%）
- 優先度「中」: 87個（58%）
- 優先度「低」: 40個（27%）

📈 **カテゴリ別分析**
1. 買取: 45個（30%）- 最多
2. 査定: 38個（25%）
3. 売却: 32個（21%）
4. 廃車: 20個（13%）
5. その他: 15個（10%）

💡 **推奨アクション**
1. 優先度「高」の23個を最優先で対策
2. 「買取」カテゴリが最多なので、ここに注力
3. 「廃車」カテゴリは少ないが、競合が少ない可能性

詳しく知りたいカテゴリはありますか？
```

---

## 高度な使い方

### チェーン質問

会話履歴を保持するので、続けて質問できます：

```
ユーザー: @SEO Reporter Pythonについて教えて

Bot: Pythonは...（説明）

ユーザー: それでWebスクレイピングするには？

Bot: Pythonでのスクレイピングには...（前の文脈を理解）

ユーザー: サンプルコードを見せて

Bot: 以下がサンプルコードです...（さらに文脈を理解）
```

### 複合的な質問

複数の要素を含む質問も可能：

```
@SEO Reporter 「中古車買取」のキーワードで、
競合サイトの被リンク数を調べて、
うちのサイトとの差を分析して
```

### コード実行を活用

```
@SEO Reporter 以下のデータから平均CTRを計算して：
キーワードA: 3.2%
キーワードB: 2.8%
キーワードC: 4.1%
キーワードD: 3.5%
```

---

## 制限事項

### Discord の制限

- 1メッセージ: 最大2000文字
- 長い応答は自動的に分割されます

### 会話履歴

- ユーザーごとに最大10件の履歴を保持
- Bot再起動時にリセットされます

### Google検索

- リアルタイム検索が可能
- ただし、検索結果の精度はGoogleに依存

### コード実行

- Python コードの実行が可能
- 実行時間に制限あり（通常数秒）

---

## トラブルシューティング

### 応答が遅い

**原因:** Google検索やコード実行に時間がかかっている

**対処法:** タイピングインジケーター（"○○ is typing..."）が表示されるので、少しお待ちください

### 応答がおかしい

**原因:** 質問が曖昧、または会話履歴の影響

**対処法:**
1. より具体的に質問してください
2. 新しい話題の場合は「話題を変えて」と伝えてください

### Google検索が使われない

**原因:** 質問が最新情報を必要としないと判断された

**対処法:** 「最新の〜」「今の〜」など、明示的に最新情報を求めてください

---

## ベストプラクティス

### 1. 明確な質問

❌ 悪い例: 「それについて」
✅ 良い例: 「タイトルタグの最適化について教えて」

### 2. 文脈の提供

❌ 悪い例: 「どうすればいい？」
✅ 良い例: 「順位が下がったキーワードがあるんだけど、どう対策すればいい？」

### 3. 段階的な質問

複雑な質問は分割して：

```
1. 「SEOの基本を教えて」
2. 「その中で、内部リンクについて詳しく」
3. 「具体的な実装方法は？」
```

### 4. フィードバック

応答が不十分な場合：

```
「もっと詳しく教えて」
「具体例を見せて」
「初心者向けに説明して」
```

---

## よくある質問

### Q: どんな質問ができますか？

A: ほぼすべての質問に対応できます：
- SEO関連の専門的な質問
- 最新ニュースや情報
- 計算や分析
- プログラミング
- 一般的な雑談

### Q: Google検索はいつ使われますか？

A: AIが自動判断します。最新情報が必要と判断した場合に使用されます。

### Q: 会話履歴はどこまで保持されますか？

A: ユーザーごとに最大10件のメッセージを保持します。Bot再起動時にリセットされます。

### Q: コマンド実行と会話モードの違いは？

A: 
- **コマンド実行**: 「順位チェック」などの特定機能を実行
- **会話モード**: 質問に答える、情報を調べる、分析する

両方を組み合わせて使えます。

### Q: 間違った情報を返すことはありますか？

A: AIは完璧ではありません。重要な情報は必ず公式ソースで確認してください。

---

## まとめ

新しいチャット機能により、Bot は：

✅ 自由な会話ができる
✅ Google検索で最新情報を調べる
✅ コードを実行して計算・分析
✅ スプレッドシートデータを理解
✅ 文脈を理解した対話

**従来のコマンド機能も引き続き使えます！**

---

**最終更新**: 2026年2月3日
