---
tags:
  - アイデア
  - アプリ開発
  - 要件定義
  - WhiteTime
---
これまでの議論（コンセプト、ミニマルデザイン、White Time優先、通知設定、そしてスロット制）を全て統合した、『White Time』最終決定版の要件定義書です。
開発者（エンジニア）はこのドキュメントを見るだけで、仕様を完全に理解し、実装に着手できます。
アプリケーション要件定義書：『White Time』
Version: 1.0 (MVP)
Platform: iOS / Android (Flutter推奨)
1. プロダクト概要
Concept:
「余白（White Time）を確保してから、残りをデザインする」。
自分時間を最優先にブロックし、1日のタスク数を厳格に制限することで、本当に重要なことに集中させるミニマル・タスクプランナー。
Core Values:
 * White Time First: 趣味や家族時間を「アンカー（錨）」として最初に固定する。
 * Fixed Slots: 1日のタスク枠を物理的に制限し、無駄なタスクを排除する。
 * Tactile & Minimal: 指先の感覚（Haptics）と物理挙動を重視した、禅のようなUI。
2. コア・ロジック：『The Daily Slots』
本アプリ最大の特徴。1日の実行画面（Daily View）には、以下の合計5つの固定スロットのみが存在する。これ以上のタスク追加はシステム的に不可とする。
| スロット名称 | 対象マトリクス | 枠数 | ルール / 制約 |
|---|---|---|---|
| 👑 Anchor Slot | 第2象限 (重要・非緊急) | 1 | 週次計画で設定したWhite Timeが自動で埋まる。 解除・変更不可。 |
| 🔥 Must Slots | 第1象限 (重要・緊急) | 2 | 期限のある重要タスク用。最大2つまで。 |
| 🌱 Growth Slot | 第2象限 (重要・非緊急) | 1 | 将来への投資タスク用（White Time以外でもう1つだけ許可）。 |
| ⚡️ Noise Slot | 第3象限 (非重要・緊急) | 1 | 雑務（メール等）用。1日1つしかこなさない制約。 |
| ⛔️ (Banned) | 第4象限 (無駄) | 0 | Daily Viewには一切追加できない。 |
3. 機能要件 (Functional Requirements)
F-1. ウィークリープランニング (Weekly View / Matrix)
週の始まり（日曜夜/月曜朝）に行う計画フェーズ。
 * Anchor Setting (強制フロー):
   * 週のリセット時、真っ白な画面で「今週のWhite Time」の入力を強制する。
   * 入力: タイトル（必須）、日時（任意）。
   * 結果: マトリクスの第2象限に巨大なブロックとして配置される。これは「壁」となり、移動不可。
 * Inbox & Drag Sorting:
   * 画面下部のInboxからタスクを作成し、ドラッグ＆ドロップで4象限に配置する。
   * 物理挙動: White Timeブロックには他のタスクは重なれない（衝突判定）。
 * Slot Selection:
   * マトリクス上のタスクをタップして「今日やる」に設定しようとした際、上記「Slot Logic」に基づき判定を行う。
   * 例: 既にQ1タスクを2つ選んでいる状態で、3つ目のQ1タスクを選ぼうとすると、「Mustスロットは一杯です」と警告し、弾く。
F-2. デイリートラッキング (Daily View / Slots)
日々の実行フェーズ。
 * 5 Slots Interface:
   * リスト形式ではなく、**「5つの窪み（Slot）」**が表示されたトレイのようなUI。
   * 未設定のスロットは「空」として薄く表示される。
 * Execution & Completion:
   * タップまたはスワイプで完了。
   * 演出: 心地よいHaptic Feedbackと共に、スロットが埋まる（または光る）。
   * 全達成: 5つ全て（または埋まっている全て）を完了すると、画面全体が静かに祝福する（色が変わる等の）エフェクト。
F-3. トラッキング (Passive Tracking)
 * Visual Log:
   * 完了したタスクは消えず、ウィークリーのマトリクス上に「点（ドット）」として残留する。
   * 週末、マトリクスを見るだけで「第2象限（右上）が充実していたか」「第1象限（左上）に追われていたか」が視覚的にわかる。
 * Weekly Reset:
   * 設定した曜日・時間に盤面をリセット（アーカイブ化）し、翌週のWhite Time設定へ遷移。
F-4. 通知機能 (Notifications)
ローカル通知を使用。設定画面で変更可能。
| 通知名 | デフォルト | 設定項目 | メッセージ |
|---|---|---|---|
| Weekly Reset | 日曜 20:00 | 曜日/時間 | 「今週のWhite Timeを確保しましょう。」 |
| Daily Focus | 毎日 07:00 | 時間 | 「今日のスロットを埋めましょう。」 |
| Anchor Alert | 自動 | - | White Time開始15分前に通知（日時設定時のみ） |
4. UI/UX要件 (Non-Functional Requirements)
U-1. デザインシステム "Zen Minimal"
 * Color Palette:
   * Base: ホワイト (#FFFFFF), ブラック (#111111)
   * Text: ダークグレー (#333333)
   * Accent (White Time): ユーザー設定可能な「テーマカラー」（または淡いミントグリーン固定）。
 * Typography:
   * システム標準フォント (SF Pro / Roboto)。
   * 装飾を排除し、文字サイズと「余白」だけで階層を作る。
U-2. インタラクション
 * Physics: タスク（玉）を投げると壁に跳ね返る程度の軽い物理演算。
 * Drag Resistance: スロットが満杯の時は、無理やり入れようとしてもゴムのように押し戻される挙動で「制限」を体感させる。
5. データ構造 (Schema Idea)
Flutter + Isar/Hive を想定
enum Quadrant { q1_must, q2_growth, q3_noise, q4_waste }
enum SlotType { anchor, must, growth, noise }

class Task {
  String id;
  String title;
  Quadrant quadrant; 
  bool isWhiteTime; // True if this is the Anchor
  DateTime? scheduledAt; // For Anchor
  bool isCompleted;
  DateTime createdAt;
}

// 今日のスロット状態管理
class DailySlots {
  String date; // "2023-10-30"
  String anchorTaskId;
  List<String> mustTaskIds;   // Max 2
  String? growthTaskId;       // Max 1
  String? noiseTaskId;        // Max 1
}

6. 開発ロードマップ (MVP Scope)
 * Phase 1: The Engine (1週目)
   * Flutter環境構築。
   * データモデル実装。
   * 「5つのスロット制限」ロジックの実装。
 * Phase 2: The Interface (2週目)
   * ウィークリーマトリクス画面の実装（ドラッグ操作）。
   * デイリー画面の実装。
   * White Time設定ダイアログ。
 * Phase 3: The Feel (3週目)
   * 物理挙動（衝突・反発）の調整。
   * 通知機能の実装。
   * 全体のデザイン調整（余白、フォント）。
これで**『White Time』**の設計は完璧です。
「制限があるからこそ、自由になれる」という哲学を持った、非常にユニークで価値のあるアプリになるはずです。
